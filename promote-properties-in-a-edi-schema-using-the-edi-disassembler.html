<!doctype html>
<html lang="en-US">
  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>
    Gobbledygooks
    
      &middot; Promote properties in a EDI schema using the EDI Disassembler
    
  </title>

  <!-- Sitemap -->
  <link href="/sitemap.xml" rel="sitemap" title="Sitemap" type="application/xml">

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="riha feed" href="http://richardhallgren.com/feed">
</head>

  <body class="bg-bg-yellow flex justify-center font-mono py-4 px-4 post-page">
    <div class="max-w-[750px]">
      <div class="">
        <div class="flex justify-center">
          <a href="/">
            <img
              src="/assets/riha-profile-image.jpeg"
              class="rounded-full w-32 border-profile-border shadow profile-image"
            >
          </a>
        </div>
      </div>
      <div class="my-12"></div>

      <h1>Promote properties in a EDI schema using the EDI Disassembler</h1>
      <div class="my-1"></div>
      <div class="text-center text-text-subtle text-sm">Apr 23, 2010</div>
      <div class=" my-12">
        <p>I’ve doing a lot of EDI related work in BizTalk lately and I have to say that I’ve really enjoyed it! EDI takes a while to get used to (see example below), but once one started to understand it I’ve found it to be a real nice, strict standard - with some cool features built into BizTalk!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UNB+IATB:1+6XPPC+LHPPC+940101:0950+1'
UNH+1+PAORES:93:1:IA'
MSG+1:45'
IFT+3+XYZCOMPANY AVAILABILITY'
ERC+A7V:1:AMD'
IFT+3+NO MORE FLIGHTS'
ODI'
TVL+240493:1000::1220+FRA+JFK+DL+400+C'
...
</code></pre></div></div>

<p>There are however some things that _doesn’t _work as expected …</p>

<h3 id="promoting-values">Promoting values</h3>

<p>According to the <a href="http://msdn.microsoft.com/en-us/library/bb226404(BTS.20).aspx">MSDN documentation</a> the EDI Disassembler by default promotes the following EDI fields: UNB2.1, UNB2.3, UNB3.1, UNB11; UNG1, UNG2.1, UNG3.1; UNH2.1, UNH2.2, UNH2.3.</p>

<p>There are however situation where one would like <em>other</em> values promoted.</p>

<p>I my case I wanted the C002/1001 value in the <a href="http://www.stylusstudio.com/edifact/d04b/BGM_.htm">BGM segment</a>. This is a value identifying the purpose of the document and I needed to route the incoming message based on the value.</p>

<p>The short version is that <em>creating a property schema, promoting the field in the schema and having the EDI Disassembler promoting the value <strong>will not work</strong> (as with the XML Disassembler)</em>. To do this you’ll need to use a custom pipeline component to promote the value. Rikard Alard seem to have come to the same conclusion <a href="http://rikardalard.wordpress.com/2009/06/15/promoted-properties-in-edi-schema-is-not-promoted-by-edireceive/">here</a>.</p>

<h3 id="promote-pipeline-component-to-use">Promote pipeline component to use</h3>

<p>If you don’t want to spend time on writing your own pipeline component to do this yourself you can find a nice “promote component” on CodePlex <a href="http://eebiztalkpipelinecom.codeplex.com/">here</a> by <a href="http://blog.eliasen.dk">Jan Eliasen</a>.</p>

<p>If you however expect to receive lots and lots of big messages you might want to look into changing the component to use XPathReader and custom stream implementations in the Microsoft.BizTalk.Streaming.dll. You can find more detailed information on how to do that in this <a href="http://msdn.microsoft.com/en-us/library/ee377071(BTS.10).aspx">MSDN article</a>.</p>

      </div>
      <div class="mt-6" />
<div class="flex items-baseline justify-center gap-4">
  <a href="https://www.linkedin.com/in/richardhallgren/">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="lucide lucide-linkedin"
    >
      <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
      <rect width="4" height="12" x="2" y="9" />
      <circle cx="4" cy="4" r="2" />
    </svg>
  </a>
  <a href="mailto:richard@revision.app">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="lucide lucide-mail"
    >
      <rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
    </svg>
  </a>
</div>

    </div>
  </body>
</html>
